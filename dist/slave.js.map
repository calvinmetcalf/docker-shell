{"version":3,"sources":["../lib/slave.js"],"names":["createContainer","require","debug","resolveLinks","module","exports","createSlave","docker","config","done","docker_links","err","links","Image","image","Env","env","AttachStdout","AttachStderr","OpenStdin","Tty","name","Binds","docker_volumeBinds","Links","Privileged","privileged","PublishAllPorts","publishPorts","Dns","dns"],"mappings":"AAAA;;AAEA,MAAMA,kBAAkBC,QAAQ,oBAAR,CAAxB;AACA,MAAMC,QAAQD,QAAQ,OAAR,EAAiB,oBAAjB,CAAd;AACA,MAAME,eAAeF,QAAQ,SAAR,EAAmBE,YAAxC;;AAEAC,OAAOC,OAAP,GAAiBC,WAAjB;;AAEA,SAASA,WAAT,CAAqBC,MAArB,EAA6BC,MAA7B,EAAqCC,IAArC,EAA2C;AACzCN,eAAaI,MAAb,EAAqBC,OAAOE,YAA5B,EAA0C,CAACC,GAAD,EAAMC,KAAN,KAAgB;AACxD,QAAID,GAAJ,EAAS,OAAOF,KAAKE,GAAL,CAAP;;AAETT,UAAM,uBAAN;AACAF,oBAAgB;AACda,aAAOL,OAAOM,KADA;AAEdC,WAAKP,OAAOQ,GAFE;AAGdC,oBAAc,IAHA;AAIdC,oBAAc,IAJA;AAKdC,iBAAW,IALG;AAMdC,WAAK,KANS;AAOdC,YAAMb,OAAOa,IAPC;AAQdC,aAAOd,OAAOe,kBARA;AASdC,aAAOZ,KATO;AAUda,kBAAYjB,OAAOkB,UAVL;AAWdC,uBAAiBnB,OAAOoB,YAXV;AAYdC,WAAKrB,OAAOsB;AAZE,KAAhB,EAaGvB,MAbH,EAaWC,MAbX,EAamBC,IAbnB;AAcD,GAlBD;AAmBD","file":"slave.js","sourcesContent":["'use strict';\n\nconst createContainer = require('./create-container');\nconst debug = require('debug')('docker-shell:slave');\nconst resolveLinks = require('./links').resolveLinks;\n\nmodule.exports = createSlave;\n\nfunction createSlave(docker, config, done) {\n  resolveLinks(docker, config.docker_links, (err, links) => {\n    if (err) return done(err);\n\n    debug('Creating container...');\n    createContainer({\n      Image: config.image,\n      Env: config.env,\n      AttachStdout: true,\n      AttachStderr: true,\n      OpenStdin: true,\n      Tty: false,\n      name: config.name,\n      Binds: config.docker_volumeBinds,\n      Links: links,\n      Privileged: config.privileged,\n      PublishAllPorts: config.publishPorts,\n      Dns: config.dns\n    }, docker, config, done);\n  });\n}\n"]}